// --- Variables ---
$primary-bg: #0c0c1d;
$gradient-start: #111132;
$text-light: #ffffff;
$text-muted: #d1d5db; // gray-300
$accent-orange: #f97316; // orange-500
$accent-orange-hover: #ea580c; // orange-600
$accent-purple: #9333ea; // purple-600
$tag-bg: #374151; // gray-700
$tag-text: #d1d5db; // gray-300
$border-light: #ffffff;

// --- Mixins for Flexbox ---
@mixin flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

// --- Base Styles ---
body {
    // Set a default background for the whole page
    background-color: $primary-bg;
    color: $text-light;
}

// --- Portfolio Container ---
.portfolio {
    position: relative;
    background-color: $primary-bg;

    // --- Sticky Header ---
    .portfolio-header {
        position: sticky;
        top: 0;
        left: 0;
        padding-top: 0.5rem;
        text-align: center;
        z-index: 10;
        background-image: linear-gradient(to bottom, $gradient-start, $primary-bg);

        h1 {
            font-size: 2rem; // lebih kecil dari sebelumnya
            font-weight: 300;
            margin-bottom: 1rem;
            color: $text-light;

            @media (min-width: 768px) {
                font-size: 3rem;
            }
        }

        .progress-bar {
            height: 0.15rem;
            background-color: $text-light;
        }
    }

    // --- Single Project Section ---
    .portfolio-item {
        height: 100vh;
        width: 100%;
        overflow: hidden;
        @include flex-center;

        .container {
            max-width: 1280px; // max-w-screen-xl
            height: 100%;
            margin: 0 auto;
            width: 100%;
            padding: 0 2rem; // px-8
            gap: 3rem; // gap-12
            @include flex-center;
            flex-direction: column;

            @media (min-width: 768px) {
                flex-direction: row;
            }
        }

        .image-container {
            flex: 1;
            height: 50%;
            width: 100%;

            @media (min-width: 768px) {
                width: 50%;
            }

            img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                border-radius: 0.5rem; // rounded-lg
            }
        }

        .text-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 1.5rem; // gap-6
            text-align: center;

            @media (min-width: 768px) {
                text-align: left;
            }

            h2 {
                font-size: 2.25rem; // text-4xl
                font-weight: 300; // font-light
                color: $text-light;

                @media (min-width: 768px) {
                    font-size: 4.5rem; // md:text-7xl
                }
            }

            .category {
                display: inline-block;
                padding: 0.25rem 0.75rem; // px-3 py-1
                background-color: $accent-purple;
                color: $text-light;
                font-size: 0.875rem; // text-sm
                border-radius: 9999px; // rounded-full
                align-self: center;

                @media (min-width: 768px) {
                    align-self: flex-start;
                }
            }

            p {
                color: $text-muted;
                font-size: 1.125rem; // text-lg
                line-height: 1.75; // leading-relaxed

                @media (min-width: 768px) {
                    font-size: 1.25rem; // md:text-xl
                }
            }

            .technologies {
                display: flex;
                flex-wrap: wrap;
                gap: 0.5rem; // gap-2
                justify-content: center;

                @media (min-width: 768px) {
                    justify-content: flex-start;
                }

                .tech-tag {
                    padding: 0.25rem 0.75rem; // px-3 py-1
                    background-color: $tag-bg;
                    color: $tag-text;
                    font-size: 0.875rem; // text-sm
                    border-radius: 0.375rem; // rounded-md
                }
            }

            .buttons {
                display: flex;
                gap: 1rem; // gap-4
                justify-content: center;

                @media (min-width: 768px) {
                    justify-content: flex-start;
                }

                .button {
                    padding: 0.75rem 1.5rem; // px-6 py-3
                    border-radius: 0.5rem; // rounded-lg
                    font-weight: 500; // font-medium
                    transition: background-color 0.3s, color 0.3s;
                    text-decoration: none;

                    &.primary {
                        background-color: $accent-orange;
                        color: $text-light;

                        &:hover {
                            background-color: $accent-orange-hover;
                        }
                    }

                    &.secondary {
                        border: 1px solid $border-light;
                        color: $text-light;

                        &:hover {
                            background-color: $text-light;
                            color: $primary-bg;
                        }
                    }
                }
            }
        }

        // --- PERBAIKAN BARU UNTUK BAGIAN TERAKHIR (CONTACT SECTION) ---
        // Menggunakan pendekatan scroll internal seperti pada section service
        &:last-child {
            height: 100vh; // Kunci: Tinggi section tetap 100% viewport
            overflow-y: auto; // Kunci: Konten di dalamnya bisa di-scroll jika melebihi tinggi
            justify-content: flex-start; // Konten mulai dari atas, bukan tengah
            padding-top: 5rem; // Padding atas agar ada jarak dari header
            padding-bottom: 100px; // Padding bawah untuk ruang di akhir scroll

            // Container di dalamnya tidak perlu lagi tinggi 100% agar bisa di-scroll
            .container {
                height: auto;
            }
        }
    }
}